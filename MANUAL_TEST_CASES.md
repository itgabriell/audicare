# Casos de Teste Manuais - Módulo de Atendimento Multicanal

Este documento fornece um conjunto detalhado de casos de teste manuais para validar as funcionalidades da "Caixa de Entrada".

## Tabela de Casos de Teste

| ID do Teste | Módulo/Funcionalidade | Descrição do Teste | Pré-condições | Passos para Execução | Resultado Esperado | Status (Pass/Fail) | Observações |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **TC-INBOX-001** | Lista de Conversas | **Visualização da Lista de Conversas** | Usuário logado. Existem conversas no banco de dados. | 1. Navegar para a página "Caixa de Entrada". | A lista de conversas é exibida, mostrando nome do contato, avatar, última mensagem e timestamp. A lista deve estar ordenada pela mensagem mais recente. | | |
| **TC-INBOX-002** | Chat | **Abrir uma Conversa e Visualizar Mensagens** | Pelo menos uma conversa existe na lista. | 1. Clicar em uma conversa na `ConversationList`. | O `ChatWindow` exibe o histórico de mensagens daquela conversa. O `ContactPanel` exibe os detalhes do contato selecionado. A conversa clicada fica destacada na lista. | | |
| **TC-INBOX-003**| Chat | **Enviar uma Mensagem de Texto** | Uma conversa está aberta no `ChatWindow`. | 1. Digitar um texto no `ChatInput`. <br> 2. Clicar no botão "Enviar". | A mensagem aparece instantaneamente na UI com status "enviando". O texto é inserido corretamente na tabela `messages` do Supabase. O campo de input é limpo. | | |
| **TC-INBOX-004** | Realtime | **Receber uma Nova Mensagem em Tempo Real** | Uma conversa está aberta no `ChatWindow`. | 1. Usar o SQL Editor para inserir uma nova mensagem na tabela `messages` para a conversa aberta, com `sender_type` = 'contact'. | A nova mensagem aparece no final do chat em tempo real, sem a necessidade de recarregar a página. A conversa sobe para o topo da lista. | | |
| **TC-INBOX-005** | Filtros e Busca | **Filtrar Conversas por Canal** | Existem conversas de diferentes canais (ex: WhatsApp, Instagram). | 1. Na `ConversationList`, usar o filtro de canal e selecionar "WhatsApp". | A lista é atualizada e mostra apenas as conversas do canal WhatsApp. | | |
| **TC-INBOX-006** | Filtros e Busca | **Buscar uma Conversa por Nome** | Existem conversas com nomes de contato conhecidos. | 1. No campo de busca, digitar o nome de um contato. | A lista de conversas é filtrada dinamicamente para mostrar apenas a(s) conversa(s) com aquele contato. | | |
| **TC-INBOX-007** | Painel de Contato | **Verificar Dados do Contato e Paciente** | Uma conversa é selecionada. O contato está associado a um paciente que tem agendamentos. | 1. Olhar para o `ContactPanel`. <br> 2. Navegar entre as abas "Info" e "Agenda". | A aba "Info" mostra nome, telefone e outros detalhes. A aba "Agenda" mostra a lista de agendamentos futuros do paciente. | | |
| **TC-INBOX-008** | UI/UX | **Estado Vazio da Lista de Conversas** | Não há nenhuma conversa para a clínica no banco de dados. | 1. Navegar para a página "Caixa de Entrada". | A `ConversationList` exibe uma mensagem indicando "Nenhuma conversa encontrada", em vez de uma lista vazia. | | |
| **TC-INBOX-009** | UI/UX | **Estado de Carregamento (Loading)** | Simular uma conexão de rede lenta (usando as ferramentas de desenvolvedor do navegador). | 1. Recarregar a página "Caixa de Entrada". | Skeletons de carregamento são exibidos na `ConversationList` enquanto os dados são buscados. | | |
| **TC-INBOX-010** | Responsividade | **Navegação em Dispositivo Móvel** | Acessar a aplicação em um dispositivo móvel ou emulador. | 1. Abrir a "Caixa de Entrada". <br> 2. Clicar em uma conversa. <br> 3. Clicar no botão "Voltar". | A `ConversationList` ocupa a tela inteira. Ao clicar em uma conversa, o `ChatWindow` a substitui. Ao clicar em "Voltar", a `ConversationList` reaparece. | | |
| **TC-INBOX-011** | Realtime | **Sincronização entre Múltiplas Abas** | Abrir a "Caixa de Entrada" em duas abas diferentes do mesmo navegador. | 1. Enviar uma mensagem a partir da Aba 1. <br> 2. Simular o recebimento de uma mensagem via SQL. | A mensagem enviada na Aba 1 aparece na Aba 2. A mensagem recebida via SQL aparece em ambas as abas simultaneamente. | | |
| **TC-INBOX-012** | Chat | **Envio de Mensagem com Campo Vazio** | Uma conversa está aberta. | 1. Clicar no botão "Enviar" sem digitar nenhum texto. | Nada acontece. O botão "Enviar" deve estar desabilitado se o campo de texto estiver vazio. | | |